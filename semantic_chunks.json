[
  "## Account\n\nA business entity or customer.\n\nRules:\n- Account names are human-entered identifiers.\n- Account name matching is always fuzzy, never exact.\n- User input may be partial or informal.\n- If a company or brand name is mentioned, assume Account unless stated otherwise.\n\n\n## Vendor\n\nA party to whom expenses are paid.\n\nRules:\n- Vendors are payees, not customers.\n- Do NOT confuse vendors with accounts.\n\n\n## Warehouse\n\nA physical operational facility.\n\nRules:\n- Warehouses may be referenced by:\n  - explicit warehouse name\n  - city association\n\nDisambiguation:\n- If a city has only one warehouse, \"<city> warehouse\" may refer to that warehouse.\n- If a city has multiple warehouses, \"<city> warehouse\" is ambiguous and requires clarification:\n  - a specific warehouse\n  - or all warehouses in that city\n\n\n## City\n\nA geographical city.\n\nRules:\n- Cities are locations, not operational entities.\n- If the user says \"in <city>\", interpret as City unless \"warehouse\" is explicitly mentioned.\n\n\n## Region\n\nA grouping of cities.\n\nRules:\n- Regions are not cities.\n- Terms like \"north\", \"south\", \"eastern\", etc. refer to Region unless corrected.\n- Region-level queries aggregate across all cities and warehouses in that region.\n\n\n## Metric \u2013 Total Expense\n\nDefinition:\n- Sum of expense amounts.\n\nRules:\n- Synonyms include: expense, expenses, total spend, spending.\n- If user says \"expense\" or \"expenses\", default to Total Expense.\n\n\n## Metric \u2013 Total Invoice Amount\n\nDefinition:\n- Sum of invoice totals.\n\nRules:\n- Synonyms include: invoice value, billing amount.\n\n\n## Metric Continuity\n\nRules:\n- Metrics persist across follow-up questions.\n- If a follow-up does not explicitly mention a new metric, reuse the previous metric.\n- Comparative terms like \"most\", \"least\", \"higher\", \"lower\" refer to the active metric.\n\n\n## Time Semantics\n\nRules:\n- Supported relative phrases include:\n  - today\n  - yesterday\n  - last week\n  - last month\n  - this month\n  - current month\n- If time is not specified, assume all time.\n- Follow-ups apply to the previous time filter unless changed.\n\n\n## Corrections\n\nRules:\n- Users may correct themselves mid-conversation.\n- Corrections override only the corrected aspect.\n- Unrelated context must be preserved.\n\n\n## Output Discipline\n\nRules:\n- Produce one clear analytical question.\n- Update only relevant state fields.\n- Do not mention databases, tables, columns, or SQL."
]